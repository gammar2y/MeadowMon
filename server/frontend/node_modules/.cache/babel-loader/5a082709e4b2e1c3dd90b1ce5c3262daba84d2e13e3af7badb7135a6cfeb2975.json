{"ast":null,"code":"import React,{useState}from'react';import\"./Login.css\";import Header from'../Header/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onClose}=_ref;const[userName,setUserName]=useState(\"\");const[password,setPassword]=useState(\"\");const[open,setOpen]=useState(true);let login_url=window.location.origin+\"/djangoapp/login\";const login=async e=>{e.preventDefault();const res=await fetch(login_url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"userName\":userName,\"password\":password})});const json=await res.json();if(json.status!=null&&json.status===\"Authenticated\"){sessionStorage.setItem('username',json.userName);setOpen(false);}else{alert(\"The user could not be authenticated.\");}};if(!open){window.location.href=\"/\";};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{onClick:e=>{e.stopPropagation();},className:\"modalContainer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login_panel\",style:{},onSubmit:login,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"input_field\",children:\"Username \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",className:\"input_field\",onChange:e=>setUserName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"input_field\",children:\"Password \"}),/*#__PURE__*/_jsx(\"input\",{name:\"psw\",type:\"password\",placeholder:\"Password\",className:\"input_field\",onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"action_button\",type:\"submit\",value:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{className:\"action_button\",type:\"button\",value:\"Cancel\",onClick:()=>setOpen(false)})]}),/*#__PURE__*/_jsx(\"a\",{className:\"loginlink\",href:\"/register\",children:\"Register Now\"})]})})})]});};export default Login;","map":{"version":3,"names":["React","useState","Header","jsx","_jsx","jsxs","_jsxs","Login","_ref","onClose","userName","setUserName","password","setPassword","open","setOpen","login_url","window","location","origin","login","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","json","status","sessionStorage","setItem","alert","href","children","onClick","stopPropagation","className","style","onSubmit","type","name","placeholder","onChange","target","value"],"sources":["C:/Users/acrew/OneDrive/Desktop/MeadowMon/server/frontend/src/components/login/login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nimport \"./Login.css\";\r\nimport Header from '../Header/Header';\r\n\r\nconst Login = ({ onClose }) => {\r\n\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [open,setOpen] = useState(true)\r\n\r\n  let login_url = window.location.origin+\"/djangoapp/login\";\r\n\r\n  const login = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const res = await fetch(login_url, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n            \"userName\": userName,\r\n            \"password\": password\r\n        }),\r\n    });\r\n    \r\n    const json = await res.json();\r\n    if (json.status != null && json.status === \"Authenticated\") {\r\n        sessionStorage.setItem('username', json.userName);\r\n        setOpen(false);        \r\n    }\r\n    else {\r\n      alert(\"The user could not be authenticated.\")\r\n    }\r\n};\r\n\r\n  if (!open) {\r\n    window.location.href = \"/\";\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <Header/>\r\n    <div onClick={onClose}>\r\n      <div\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n        }}\r\n        className='modalContainer'\r\n      >\r\n          <form className=\"login_panel\" style={{}} onSubmit={login}>\r\n              <div>\r\n              <span className=\"input_field\">Username </span>\r\n              <input type=\"text\"  name=\"username\" placeholder=\"Username\" className=\"input_field\" onChange={(e) => setUserName(e.target.value)}/>\r\n              </div>\r\n              <div>\r\n              <span className=\"input_field\">Password </span>\r\n              <input name=\"psw\" type=\"password\"  placeholder=\"Password\" className=\"input_field\" onChange={(e) => setPassword(e.target.value)}/>            \r\n              </div>\r\n              <div>\r\n              <input className=\"action_button\" type=\"submit\" value=\"Login\"/>\r\n              <input className=\"action_button\" type=\"button\" value=\"Cancel\" onClick={()=>setOpen(false)}/>\r\n              </div>\r\n              <a className=\"loginlink\" href=\"/register\">Register Now</a>\r\n          </form>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}